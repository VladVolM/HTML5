<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../Estilos/estilos1.css"></link>
    </head>
    <body text="white" bgcolor="black">
        <a href="Art1.html" target="1">Siguiente</a>
        <h3>Instalación de Docker</h3>

        <p>Usar url de descarga--> <a href="https://docs.docker.com/get-started/">https://docs.docker.com/get-started/</a>
            <br>
            En la página, usar el menú en el lado izquierdo, ir a "Get Docker">"Docker Engine-Community">"Linux">"Ubuntu"(elegir el sistema que se usa)
            <br>
            El resto de la página fue sacada de las instrucciones de la página de descarga
        </p>

        <h3>Instalación para Ubuntu</h3>

        <p>Tener en cuenta algunos prerrequisitos de tu sistema:
            <br>
            -Tener una instalación de 64 bits.
            <br>
            -Usar la distribución actualizada del Kernel
        </p>

        <h3>Borrar version antigua de Docker</h3>

        <p>En tu consola de comandos puedes usar "uname -r" para ver la versión(ej. 4.4.0-36-generic)
            <br>
            <p>$ sudo apt-get remove docker docker-engine docker.io containerd runc
            </p>
        </p>


        <h3>Crear el repositorio</h3>

        <p>Hace falta hacer un update al "apt sources"
            <br>
            <p>$ sudo apt-get update
            </p>
            <br>
            Instalar paquetes que permiten usar repositorios a través de https:
            <br>
            <p>$ sudo apt-get install \
                <br>
                apt-transport-https \
                <br>
                ca-certificates \
                <br>
                curl \
                <br>
                gnupg-agent \
                <br>
                software-properties-common
            </p>
            <br>
            Añadir la llave oficial de Docker:
            <br>
            <p>$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
                <br>

                #Para comprobar la llave, que tiene que ser la siguiente se usa: (9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88)
                <br>

                $ sudo apt-key fingerprint 0EBFCD88
                <br>

                #que daría el siguiente resultado:
                <br>
        
                pub   rsa4096 2017-02-22 [SCEA]
                <br>
                  9DC8 5822 9FC7 DD38 854A  E2D8 8D81 803C 0EBF CD88
                <br>
                uid           [ unknown] Docker Release (CE deb) &ltdocker@docker.com&gt
                <br>
                sub   rsa4096 2017-02-22 [S]
            </p>
            <br>
            Para preparar un estable repositorio se usaría:
            <br>
            <p>$ sudo add-apt-repository \
                <br>
                   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \
                <br>
                   $(lsb_release -cs) \
                <br>
               stable"
            </p>
            <br>
            Donde el código cambia según sistemas y distribuidor (usar la página web de descarga para más detalles)
        </p>

        <h3>Instalación</h3>

        <p>
            Tras haber preparado el repositorio se vuelve a usar
            <p>
                $ sudo apt-get update
            </p>
            <br>
            Instalar la última versión de docker:
            <br>
            <p>
                $ sudo apt-get install docker-ce docker-ce-cli containerd.io
            </p>
            <br>
            Pero si quieres instalar una versión específica se usará
            <br>
            <p>
                $ apt-cache madison docker-ce
                <br>
                Que daría algo como esto
                <br>
                docker-ce | 5:18.09.1~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
                <br>
                docker-ce | 5:18.09.0~3-0~ubuntu-xenial | https://download.docker.com/linux/ubuntu  xenial/stable amd64 Packages
                <br>
                etc.
            </p>
            <br>
            Teniendo en cuenta el apartado de 5:18.09.1~3-0~ubuntu-xenial, se usaría el específico en el siguiente comando;
            <br>
            <p>
                $ sudo apt-get install docker-ce=&ltSTRING&gt docker-ce-cli=&ltSTRING&gt containerd.io
            </p>
            <br>
            Donde sustituyes STRING por la versión.
            <br>
            al final usa
            <br>
            <p>
                $ sudo docker run hello-world
            </p>
            <br>
            si no da errores está preparado, (en la página web te indican apartados adicionales para descargar paquetes, y hacer update al Docker para futuro uso propio, fuera de esta clase)
            <br>
            <p>
                $ service docker status
                $ systemctl status docker
            </p>
            <br>
            se pueden usar para estar más seguro al ver su estado
            <br>
            <p>
                $ docker version
            </p>
			<br>
            Dará más datos sobre el Dosker que usas
        </p>

    </body>

</html>

